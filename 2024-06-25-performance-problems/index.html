<!DOCTYPE html><html class="2xl:text-[20px]" dir="ltr" lang="en"><head><meta charset="UTF-8"><meta content="width=device-width,initial-scale=1" name="viewport"><link href="/sitemap-index.xml" rel="sitemap"><link href="/assets/logo.mJp23FB4.png" rel="shortcut icon"><style>:root{--aw-font-sans:'InterVariable';--aw-font-serif:'InterVariable';--aw-font-heading:'InterVariable';--aw-color-primary:#0ea5e9;--aw-color-secondary:#64748b;--aw-color-accent:#6366f1;--aw-color-text-heading:rgb(0 0 0);--aw-color-text-default:rgb(16 16 16);--aw-color-text-muted:rgb(16 16 16 / 66%);--aw-color-bg-page:rgb(255 255 255);--aw-color-bg-page-dark:rgb(3 6 32)}.dark{--aw-font-sans:'InterVariable';--aw-font-serif:'InterVariable';--aw-font-heading:'InterVariable';--aw-color-primary:rgb(1 97 239);--aw-color-secondary:rgb(1 84 207);--aw-color-accent:rgb(109 40 217);--aw-color-text-heading:rgb(247, 248, 248);--aw-color-text-default:rgb(229 236 246);--aw-color-text-muted:rgb(229 236 246 / 66%);--aw-color-bg-page:rgb(29, 29, 30)}</style><script>!function(){const e="system";function t(e){"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");const t=document.querySelectorAll("[data-aw-toggle-color-scheme] > input");t&&t.length&&t.forEach((t=>{t.checked="dark"!==e}))}e&&e.endsWith(":only")||(localStorage.theme,0)?t(e.replace(":only","")):"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):t("light")}()</script><title>Lychee - Livewire performances problems üìâ</title><meta content="A look back on Server-Side rendering performance with Livewire in Lychee v5." name="description"/><meta content="index,follow" name="robots"/><link href="https://lycheeorg.dev/2024-06-25-performance-problems" rel="canonical"/><meta content="Livewire performances problems üìâ" property="og:title"/><meta content="A look back on Server-Side rendering performance with Livewire in Lychee v5." property="og:description"/><meta content="https://lycheeorg.dev/2024-06-25-performance-problems" property="og:url"/><meta content="article" property="og:type"/><meta content="https://plus.unsplash.com/premium_photo-1682309562760-13619ee2dbd1?q=80&amp;w=3312&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" property="og:image"/><meta content="en" property="og:locale"/><meta content="Lychee" property="og:site_name"/><meta content="summary_large_image" name="twitter:card"/><meta content="true" name="astro-view-transitions-enabled"><meta content="swap" name="astro-view-transitions-fallback"><link href="/assets//license.DJYwjdMy.css" rel="stylesheet"><script src="/assets//hoisted.BScVxmeO.js" type="module"></script></head><body class="antialiased bg-page text-default tracking-tight"><div class="relative dark:border-slate-800 bg-black dark dark:bg-transparent dark:border-b dark:text-slate-300 gap-1 hidden md:flex overflow-hidden px-3 py-2 text-ellipsis text-slate-200 text-sm whitespace-nowrap"><span class="inline-block py-0.5 rtl:mr-0 bg-sky-600 dark:bg-sky-700 dark:text-slate-200 font-semibold mr-0.5 px-1 rtl:ml-0.5 text-slate-200 text-xs">NEW</span> <a href="https://github.com/LycheeOrg/Lychee/releases/tag/v6.1.2" class="text-slate-200 dark:text-slate-200 font-medium hover:underline">Lychee 6.1.2 is now available! ¬ª</a> <a href="https://github.com/LycheeOrg/Lychee" class="inline-block bg-[url(https://img.shields.io/github/stars/lycheeorg/lychee.svg?style=social&label=Stars&maxAge=86400)] bg-contain h-[1.25rem] ltr:ml-auto ml-auto rtl:mr-auto w-[5.6rem]" rel="noopener" target="_blank" title="If you like Lychee, give us a star."></a></div><header class="mx-auto w-full border-b border-gray-50/0 ease-in-out flex-none sticky top-0 transition-[opacity] z-40" data-aw-sticky-header id="header"><div class="absolute inset-0"></div><div class="mx-auto relative md:px-6 text-default max-w-7xl md:flex md:justify-between px-3 w-full"><div class="flex justify-between mr-auto rtl:ml-auto rtl:mr-0"><a href="/" class="flex items-center"><span class="font-bold text-3xl dark:text-white md:text-2xl ml-2 rtl:ml-0 rtl:mr-2 self-center text-gray-900 whitespace-nowrap"><img alt="logo" loading="lazy" src="/assets/logo.mJp23FB4.png" class="inline max-h-10 max-w-10" crossorigin="anonymous" decoding="async" referrerpolicy="no-referrer" sizes="(min-width: 50px) 50px, 100vw" width="50" height="50" srcset="/assets/logo.mJp23FB4_Z2NhEt.webp 50w, /assets/logo.mJp23FB4_ZwM5cE.webp 100w" style="object-fit:cover;object-position:center;max-width:50px;max-height:50px;aspect-ratio:1;width:100%"> Lychee</span></a><div class="flex items-end md:hidden"><button class="flex flex-col cursor-pointer group h-12 items-center justify-center rounded w-12" type="button" aria-label="Toggle Menu" data-aw-toggle-menu><span class="sr-only">Toggle Menu</span> <span class="transition duration-200 bg-black dark:bg-white ease h-0.5 my-1 opacity-80 rounded-full transform w-6 group-[.expanded]:rotate-45 group-[.expanded]:translate-y-2.5" aria-hidden="true"></span> <span class="transition duration-200 bg-black dark:bg-white ease h-0.5 my-1 opacity-80 rounded-full transform w-6 group-[.expanded]:opacity-0" aria-hidden="true"></span> <span class="transition duration-200 bg-black dark:bg-white ease h-0.5 my-1 opacity-80 rounded-full transform w-6 group-[.expanded]:-rotate-45 group-[.expanded]:-translate-y-2.5" aria-hidden="true"></span></button></div></div><nav aria-label="Main navigation" class="items-center md:w-auto w-full hidden md:flex md:justify-self-center md:mx-5 md:overflow-x-auto md:overflow-y-visible overflow-x-hidden overflow-y-auto text-default"><ul class="flex flex-col font-medium md:flex-row md:justify-center md:self-center md:text-[0.9375rem] md:w-auto text-xl tracking-[0.01rem] w-full"><li class="dropdown"><button class="flex items-center dark:hover:text-white hover:text-link px-4 py-3" type="button">Blog <svg class="rtl:ml-0 h-3.5 hidden md:inline ml-0.5 rtl:mr-0.5 w-3.5" data-icon="tabler:chevron-down" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:chevron-down"><path d="m6 9l6 6l6-6" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></symbol><use xlink:href="#ai:tabler:chevron-down"></use></svg></button><ul class="md:hidden dark:md:bg-dark drop-shadow-xl dropdown-menu font-medium md:absolute md:backdrop-blur-md md:bg-white/90 md:min-w-[200px] md:pl-0 pl-4 rounded"><li><a href="/blog" class="block dark:hover:bg-gray-700 dark:hover:text-white first:rounded-t hover:text-link last:rounded-b md:hover:bg-gray-100 px-5 py-2 whitespace-no-wrap">Read the blog</a></li><li><a href="/2024-10-26-v6" class="block dark:hover:bg-gray-700 dark:hover:text-white first:rounded-t hover:text-link last:rounded-b md:hover:bg-gray-100 px-5 py-2 whitespace-no-wrap">Lychee Version 6 is Live!</a></li><li><a href="/tag/v6" class="block dark:hover:bg-gray-700 dark:hover:text-white first:rounded-t hover:text-link last:rounded-b md:hover:bg-gray-100 px-5 py-2 whitespace-no-wrap">Current developments</a></li></ul></li><li class=""><a href="/support" class="flex items-center dark:hover:text-white hover:text-link px-4 py-3">About us</a></li><li class=""><a href="/get-supporter-edition" class="flex items-center dark:hover:text-white hover:text-link px-4 py-3">Lychee <span class="text-sky-500 ml-1">SE</span></a></li><li class=""><a href="/docs" class="flex items-center dark:hover:text-white hover:text-link px-4 py-3">Docs</a></li></ul></nav><div class="items-center md:w-auto w-full hidden md:flex bottom-0 fixed justify-end left-0 md:justify-self-end md:mb-0 md:p-0 md:self-center md:static p-3 rtl:left-auto rtl:right-0"><div class="flex items-center justify-between md:w-auto w-full"><div class="flex"><button class="text-muted dark:text-gray-400 dark:focus:ring-gray-700 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 inline-flex items-center p-2.5 rounded-lg text-sm" type="button" aria-label="Toggle between Dark and Light mode" data-aw-toggle-color-scheme><svg class="w-6 h-6 md:h-5 md:inline-block md:w-5" data-icon="tabler:sun" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:sun"><path d="M8 12a4 4 0 1 0 8 0a4 4 0 1 0-8 0m-5 0h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7l-.7.7m0 11.4l.7.7m-12.1-.7l-.7.7" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></symbol><use xlink:href="#ai:tabler:sun"></use></svg></button></div><span class="rtl:ml-0 ml-4 rtl:mr-4"><a href="https://github.com/LycheeOrg/Lychee" class="btn-secondary font-semibold md:px-6 ml-2 px-5.5 py-1 shadow-none text-sm w-auto" rel="noopener noreferrer" target="_blank">Download</a></span></div></div></div></header><main class="flex flex-col"><section class="mx-auto lg:py-20 py-8 sm:py-16"><article><header class=""><div class="mb-2 flex flex-col justify-between max-w-3xl mt-0 mx-auto px-4 sm:flex-row sm:items-center sm:px-6"><p><svg class="inline-block -mt-0.5 dark:text-gray-400 h-4 w-4" data-icon="tabler:clock" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:clock"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0-18 0"/><path d="M12 7v5l3 3"/></g></symbol><use xlink:href="#ai:tabler:clock"></use></svg> <time class="inline-block" datetime="Tue Jun 25 2024 17:57:00 GMT+0000 (Coordinated Universal Time)">Jun 25, 2024</time> ¬∑ <svg class="inline-block -mt-0.5 dark:text-gray-400 h-4 w-4" data-icon="tabler:user" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:user"><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0-8 0M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></symbol><use xlink:href="#ai:tabler:user"></use></svg> <span class="inline-block">ildyria</span> ¬∑ <a href="/category/livewire" class="inline-block hover:underline">Livewire </a>&nbsp;¬∑ <span>5</span> min read</p></div><h1 class="mx-auto max-w-3xl sm:px-6 px-4 font-bold font-heading leading-tighter md:text-3xl text-2xl tracking-tighter">Livewire performances problems üìâ</h1><p class="text-muted dark:text-slate-400 text-lg max-w-3xl mb-8 md:text-xl mt-4 mx-auto px-4 sm:px-6 text-justify">A look back on Server-Side rendering performance with Livewire in Lychee v5.</p><img alt="A look back on Server-Side rendering performance with Livewire in Lychee v5." loading="eager" src="https://plus.unsplash.com/premium_photo-1682309562760-13619ee2dbd1?q=80&w=3312&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="dark:bg-slate-700 bg-gray-400 mb-6 lg:max-w-[900px] max-w-full mx-auto sm:rounded-md" crossorigin="anonymous" decoding="async" referrerpolicy="no-referrer" sizes="(max-width: 900px) 400px, 900px" width="900" height="506" widths="400,900"></header><div class="mx-auto max-w-3xl sm:px-6 px-6 mt-8 dark:prose-a:text-blue-400 dark:prose-headings:text-slate-300 dark:prose-invert prose prose-a:text-primary prose-headings:font-bold prose-headings:font-heading prose-headings:leading-tighter prose-headings:scroll-mt-[80px] prose-headings:tracking-tighter prose-img:rounded-md prose-img:shadow-lg prose-li:my-0 prose-md"><p>On December 25th, we released Lychee version 5. This was the first major version bump since April 2020. This new version brings the latest and shiniest part of the laravel ecosystem: <a href="https://github.com/livewire/livewire">Livewire</a>.</p><h2 id="what-is-livewire">What is Livewire?</h2><p><strong>Livewire</strong> aims to bridge the gap between the front-end and the backend, with an ambitious message: <em>‚Äúyou no longer need to know JS to do front-end reactivity‚Äù</em>.<br/>The premise is appealing:</p><ul><li>no more AJAX requests,</li><li>no more JS needed to build the DOM (like in Lychee v3 and v4),</li><li>no more DOM manipulation,</li><li>no more events to track,</li><li>only PHP (stronger type garantees),</li><li>re-using blade templates &amp; Laravel components,</li><li>in place replacement with dom-diffing‚Ä¶</li><li>Single Page Application behaviour with url updates.</li></ul><p>All this is done with this single library which takes care of keeping a cryptographically authenticated state, provide events annotation hooks on html elements and forward those calls to the Server, executing direclty php methods on the components.</p><p>So far soo good. It took me about 1.5 years to re-implement the front-end, added tests. We are ready to ship.</p><h2 id="a-sad-reality-local-development-vs-real-life-server-performance">A sad reality: local development vs real life server performance.</h2><p>When doing local development with Livewire, everything seems fast. The request are instantanuous, the reactivity is palpable. However, as soon as you are deploying on an external server, you are immediately faced with a harsh reality: Latency is a B**tch.</p><p>What is happening? Any action with behaviour is trigerring a call to the server. This round-trip instantly kills the fluidness previously seen. Everything is slow, opening menus are taking ages‚Ä¶ Switching from one picture to another is terrible.</p><p>There is however a solution: <strong>AlpineJS</strong>. A small library to leaverage local interaction such as hover, opening menus etc to JavaScript and keep the rest with Server Round trip. One could say that Alpine is very close to VueJS in its design, to the point where the naming convension are similar: <code>x-on</code> instead of <code>v-on</code>, <code>x-html</code> instead of <code>v-html</code>, etc‚Ä¶</p><p>Using AlpineJS, I rewrote the photo navigation and editing part, I rewrote the layout (justified, masonry etc.) of the pictures in albums. Finally Lychee v5 was getting usable.</p><h2 id="a-n--1-query-blade-for-loop">A N + 1 query blade for-loop.</h2><p>We got report from our users that when using a large number of albums and sub-albums, Lychee was getting slower beyond what would be acceptable. We pop back debug mod with the trusted debug bar and have a look at what is going on.</p><p><img alt="354 SQL queries with 348 duplicates" loading="lazy" src="/blog/livewire-analysis/queries.png"/></p><p>What do we see? Server takes 2,43 seconds to respond and <strong>for 45 sub-albums we have 354 SQL statement executed with 348 of them being duplicates.</strong> There is no doubt, we have a N+1 problem.</p><p>After a few hours of debugging the culprit was found: the <em>id</em> of the <em>thumb</em> of the parent album <em>[Parent]</em> was being queried for every sub-album <em>[child]</em> in order to check whether the current sub album <em>[child]</em> was used to specify the facade of the album <em>[Parent]</em>. With a bit of caching, this went away quickly.</p><p>Similarly, the computation of the parent album <em>[parent]</em> access rights were done for every single <em>[child]</em> instance. This lead to another set of duplicated queries.</p><p>After a few updates and iterations, we got the following results.</p><p><img alt="33 SQL queries with 17 duplicates" loading="lazy" src="/blog/livewire-analysis/queries-gone.png"/></p><p>33 Queries, with 17 duplicates. Good enough. At least that number is no longer related to the number of Sub-Albums, it is therefore a flat cost. We will bit the bullet for now‚Ä¶</p><h2 id="still-slow-serialization">Still slow: Serialization</h2><p>Still after this being solved, reports kept coming that Lychee was still slow when opening albums with large number of pictures. In order to track down this issue, we can no longer use DebugBar, it is not precise enough. So we turn ourselves to <a href="https://github.com/itsgoingd/clockwork">ClockWork</a>, a powerful request analyzer.</p><p><img alt="Clockwork vue" loading="lazy" src="/blog/livewire-analysis/clockwork-top.png"/></p><p>This is a request opening an album with 700 pictures. No sub-albums, just a collection of photos. Without XDebug enabled (it usually produces a 20x slowdown), it takes 3 seconds for the server to produce the data, and render the page. What is going on?</p><p>Scrolling down we see the following waterfal. In Red are the SQL queries, in pruple the rendering of the components. <img alt="Clockwork serialization" loading="lazy" src="/blog/livewire-analysis/clockwork-serialization.png"/></p><p>It is obvious that the roadblock is not dues to SQL queries: 2876ms are spent in the app, while 162m are spent waiting for the database. What is happening in that purple part? Simple, data are being serialzied to be sent to the front-end. Do note that we already did optimize our communcation between the server and the front-end:</p><ul><li>we only send the minimum amount of data to needed to be displayed.</li><li>we only use the id of the models, all the other information are kept serverside. This has two benefits, it prevents exposing uncontrolled data (e.g. password field not in the <code>$hidden</code> attribute of a model will be displayed by the <code>toArray()</code> which is used by default by Laravel to serialize models. ).</li><li>Serialization with <code>toArray()</code> breaks in our case due to the recursive nature of the <code>Parent-Child</code> relationship in albums.</li></ul><p>As a result, it is pretty clear that at least 75% of those 2876 ms are mostly spent on serialization of data. This is assumption is also quickly verified: by setting <code>LIVEWIRE_ENABLED=false</code> in your <code>.env</code>, you are reverting back to the front-end of Version 4. The results are immediate. The speed kicks in and Lychee feels snappier.</p><p>We dig a little more in the serialization problem with <a href="https://github.com/laracraft-tech/laravel-xhprof">Laravel xprof</a> profiler, because maybe there are some quick gains.</p><p><img alt="Hprof" loading="lazy" src="/blog/livewire-analysis/Hprof-init.png"/></p><p>The most expensive function calls are the transformation of Models from the SQL query row into their respective object. This is not specially surprising. However when looking at the following parts, we notice something suprising.</p><p><img alt="Hprof1" loading="lazy" src="/blog/livewire-analysis/Hprof.png"/></p><p><img alt="Hprof2" loading="lazy" src="/blog/livewire-analysis/Hprof2.png"/></p><p><img alt="Hprof3" loading="lazy" src="/blog/livewire-analysis/Hprof3.png"/></p><p>The Carbon object is initialized every time, and a lot of time is spent in finding on which timezone the server is running‚Ä¶</p><h2 id="conclusion">Conclusion</h2><p>On this note, it becomes pretty obvious that for Lychee, Livewire and Server Side Rendering are not a good option. We tried to follow the hype and be at the bleeding edge of technology. While those ideas are appealing at first, they became quickly a nightmare to optimize and diagnose.</p><p>To know what is coming next, read the our next post <a href="/2024-06-29-future-of-lychee">here</a>.</p></div><div class="flex flex-col sm:flex-row justify-between max-w-3xl mx-auto sm:px-6 mt-8 px-6"><ul class="mr-5 rtl:ml-5 rtl:mr-0"><li class="mb-2 font-medium bg-gray-100 dark:bg-slate-700 inline-block lowercase mr-2 px-2 py-0.5 rtl:ml-2 rtl:mr-0"><a href="/tag/lychee" class="text-muted hover:text-primary dark:hover:text-gray-200 dark:text-slate-300">lychee</a></li><li class="mb-2 font-medium bg-gray-100 dark:bg-slate-700 inline-block lowercase mr-2 px-2 py-0.5 rtl:ml-2 rtl:mr-0"><a href="/tag/livewire" class="text-muted hover:text-primary dark:hover:text-gray-200 dark:text-slate-300">livewire</a></li><li class="mb-2 font-medium bg-gray-100 dark:bg-slate-700 inline-block lowercase mr-2 px-2 py-0.5 rtl:ml-2 rtl:mr-0"><a href="/tag/v5" class="text-muted hover:text-primary dark:hover:text-gray-200 dark:text-slate-300">v5</a></li><li class="mb-2 font-medium bg-gray-100 dark:bg-slate-700 inline-block lowercase mr-2 px-2 py-0.5 rtl:ml-2 rtl:mr-0"><a href="/tag/hprof" class="text-muted hover:text-primary dark:hover:text-gray-200 dark:text-slate-300">hprof</a></li><li class="mb-2 font-medium bg-gray-100 dark:bg-slate-700 inline-block lowercase mr-2 px-2 py-0.5 rtl:ml-2 rtl:mr-0"><a href="/tag/clockwork" class="text-muted hover:text-primary dark:hover:text-gray-200 dark:text-slate-300">clockwork</a></li></ul><div class="align-middle dark:text-slate-600 mt-5 sm:mt-1 text-gray-500"><span class="font-bold align-super dark:text-slate-400 text-slate-500">Share:</span> <button class="rtl:ml-0 ml-2 rtl:mr-2" data-aw-social-share="twitter" data-aw-url="https://lycheeorg.dev/2024-06-25-performance-problems" title="Twitter Share" data-aw-text="Livewire performances problems üìâ"><svg class="w-6 h-6 dark:hover:text-slate-300 dark:text-slate-500 hover:text-black text-gray-400" data-icon="tabler:brand-x" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:brand-x"><path d="m4 4l11.733 16H20L8.267 4zm0 16l6.768-6.768m2.46-2.46L20 4" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></symbol><use xlink:href="#ai:tabler:brand-x"></use></svg></button> <button class="rtl:ml-0 ml-2 rtl:mr-2" data-aw-social-share="facebook" data-aw-url="https://lycheeorg.dev/2024-06-25-performance-problems" title="Facebook Share"><svg class="w-6 h-6 dark:hover:text-slate-300 dark:text-slate-500 hover:text-black text-gray-400" data-icon="tabler:brand-facebook" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:brand-facebook"><path d="M7 10v4h3v7h4v-7h3l1-4h-4V8a1 1 0 0 1 1-1h3V3h-3a5 5 0 0 0-5 5v2z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></symbol><use xlink:href="#ai:tabler:brand-facebook"></use></svg></button> <button class="rtl:ml-0 ml-2 rtl:mr-2" data-aw-social-share="linkedin" data-aw-url="https://lycheeorg.dev/2024-06-25-performance-problems" title="Linkedin Share" data-aw-text="Livewire performances problems üìâ"><svg class="w-6 h-6 dark:hover:text-slate-300 dark:text-slate-500 hover:text-black text-gray-400" data-icon="tabler:brand-linkedin" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:brand-linkedin"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm4 5v5m0-8v.01M12 16v-5"/><path d="M16 16v-3a2 2 0 0 0-4 0"/></g></symbol><use xlink:href="#ai:tabler:brand-linkedin"></use></svg></button> <button class="rtl:ml-0 ml-2 rtl:mr-2" data-aw-social-share="whatsapp" data-aw-url="https://lycheeorg.dev/2024-06-25-performance-problems" title="Whatsapp Share" data-aw-text="Livewire performances problems üìâ"><svg class="w-6 h-6 dark:hover:text-slate-300 dark:text-slate-500 hover:text-black text-gray-400" data-icon="tabler:brand-whatsapp" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:brand-whatsapp"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="m3 21l1.65-3.8a9 9 0 1 1 3.4 2.9z"/><path d="M9 10a.5.5 0 0 0 1 0V9a.5.5 0 0 0-1 0za5 5 0 0 0 5 5h1a.5.5 0 0 0 0-1h-1a.5.5 0 0 0 0 1"/></g></symbol><use xlink:href="#ai:tabler:brand-whatsapp"></use></svg></button> <button class="rtl:ml-0 ml-2 rtl:mr-2" data-aw-social-share="mail" data-aw-url="https://lycheeorg.dev/2024-06-25-performance-problems" title="Email Share" data-aw-text="Livewire performances problems üìâ"><svg class="w-6 h-6 dark:hover:text-slate-300 dark:text-slate-500 hover:text-black text-gray-400" data-icon="tabler:mail" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:mail"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M3 7a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><path d="m3 7l9 6l9-6"/></g></symbol><use xlink:href="#ai:tabler:mail"></use></svg></button></div></div></article></section><section class="relative not-prose scroll-mt-[72px]"><div class="absolute inset-0 pointer-events-none -z-[1]" aria-hidden="true"><div class="absolute inset-0"></div></div><div class="mx-auto relative md:px-6 text-default lg:py-20 md:py-16 px-4 py-12 max-w-6xl"><div class="mx-auto max-w-3xl dark:border dark:border-slate-600 dark:shadow-none p-6 rounded-md shadow-xl text-center"><div class="text-center mb-0 md:mb-0 md:mx-auto"><h2 class="font-bold font-heading leading-tighter tracking-tighter mb-4 md:text-4xl text-4xl text-heading">Support us!</h2><p class="text-muted dark:text-slate-400 mt-4 text-xl">If you are using Lychee, a small token of gratitude will go a long way. You can support further development of Lychee on GitHub.</p></div><div class="flex flex-col sm:flex-row flex-nowrap gap-4 m-auto max-w-xs mt-6 sm:justify-center sm:max-w-md"><div class="flex sm:w-auto w-full"><a href="https://github.com/sponsors/LycheeOrg" class="btn-secondary sm:mb-0 w-full">GitHub sponsor<svg class="inline-block -mr-1.5 h-5 ml-1 rtl:-ml-1.5 rtl:mr-1 w-5" data-icon="tabler:heart" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:heart"><path d="M19.5 12.572L12 20l-7.5-7.428A5 5 0 1 1 12 6.006a5 5 0 1 1 7.5 6.572" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></symbol><use xlink:href="#ai:tabler:heart"></use></svg></a></div></div></div></div></section><div class="mx-auto max-w-3xl sm:px-6 px-6 md:pb-20 md:pt-4 pb-12 pt-8"><a href="/blog" class="btn btn-tertiary md:px-3 px-3"><svg class="h-5 w-5 -ml-1.5 mr-1 rtl:-mr-1.5 rtl:ml-1" data-icon="tabler:chevron-left" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:chevron-left"><path d="m15 6l-6 6l6 6" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></symbol><use xlink:href="#ai:tabler:chevron-left"></use></svg> Back to Blog</a></div><section class="relative not-prose scroll-mt-[72px]"><div class="absolute inset-0 pointer-events-none -z-[1]" aria-hidden="true"><div class="absolute inset-0"></div></div><div class="mx-auto relative md:px-6 text-default lg:py-20 md:py-16 px-4 py-12 lg:pt-0 max-w-7xl md:pt-0 pt-0"><div class="flex flex-col lg:flex-row lg:justify-between mb-8"><div class="md:max-w-sm"><h2 class="mb-2 font-bold font-heading group sm:leading-none sm:text-4xl text-3xl tracking-tight">Related Posts</h2><a href="/blog" class="text-muted transition block dark:text-slate-400 duration-200 ease-in hover:text-primary lg:mb-0 mb-6">View All Posts ¬ª</a></div></div><div class="grid -mb-6 gap-6 lg:grid-cols-4 md:grid-cols-2 row-gap-5"><article class="transition mb-6"><div class="dark:bg-slate-700 bg-gray-400 rounded shadow-lg mb-6 md:h-64 relative"><a href="/2024-06-29-future-of-lychee"><img alt="The future of Lychee: what is coming next. üöÄ" loading="lazy" src="https://images.unsplash.com/photo-1533073526757-2c8ca1df9f1c?q=80&w=3540&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="dark:bg-slate-700 bg-gray-400 rounded shadow-lg md:h-full object-cover w-full" crossorigin="anonymous" decoding="async" referrerpolicy="no-referrer" sizes="(max-width: 900px) 400px, 900px" width="400" height="225" srcset="https://images.unsplash.com/photo-1533073526757-2c8ca1df9f1c?q=80&w=400&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&h=225 400w, https://images.unsplash.com/photo-1533073526757-2c8ca1df9f1c?q=80&w=900&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&h=506 900w" style="object-fit:cover;object-position:center;max-width:100%;max-height:100%"></a></div><h3 class="mb-2 font-bold font-heading dark:text-slate-300 leading-tight sm:text-2xl text-xl"><a href="/2024-06-29-future-of-lychee" class="transition duration-200 ease-in hover:text-primary dark:hover:text-blue-700 inline-block">The future of Lychee: what is coming next. üöÄ</a></h3><p class="text-muted dark:text-slate-400 text-lg">What is coming for Lychee? Where are we? What are we looking forward to?</p></article><article class="transition mb-6"><div class="dark:bg-slate-700 bg-gray-400 rounded shadow-lg mb-6 md:h-64 relative"><a href="/2024-12-13-what-is-next"><img alt="What is on the Santa Claus wish list?" loading="lazy" src="https://images.unsplash.com/photo-1546188994-07c34f6e5e1b?q=80&w=3542&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="dark:bg-slate-700 bg-gray-400 rounded shadow-lg md:h-full object-cover w-full" crossorigin="anonymous" decoding="async" referrerpolicy="no-referrer" sizes="(max-width: 900px) 400px, 900px" width="400" height="225" srcset="https://images.unsplash.com/photo-1546188994-07c34f6e5e1b?q=80&w=400&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&h=225 400w, https://images.unsplash.com/photo-1546188994-07c34f6e5e1b?q=80&w=900&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&h=506 900w" style="object-fit:cover;object-position:center;max-width:100%;max-height:100%"></a></div><h3 class="mb-2 font-bold font-heading dark:text-slate-300 leading-tight sm:text-2xl text-xl"><a href="/2024-12-13-what-is-next" class="transition duration-200 ease-in hover:text-primary dark:hover:text-blue-700 inline-block">What is on the Santa Claus wish list?</a></h3><p class="text-muted dark:text-slate-400 text-lg">We discuss the future of Lychee. What is the vision for the project? What is next on the roadmap?</p></article><article class="transition mb-6"><div class="dark:bg-slate-700 bg-gray-400 rounded shadow-lg mb-6 md:h-64 relative"><a href="/2024-10-26-v6"><img alt="Lychee Version 6 is Live!" loading="lazy" src="/blog/v6/v6-live.png" class="dark:bg-slate-700 bg-gray-400 rounded shadow-lg md:h-full object-cover w-full" crossorigin="anonymous" decoding="async" referrerpolicy="no-referrer" sizes="(max-width: 900px) 400px, 900px" width="400" widths="400,900" aspectRatio="16:9" layout="cover"></a></div><h3 class="mb-2 font-bold font-heading dark:text-slate-300 leading-tight sm:text-2xl text-xl"><a href="/2024-10-26-v6" class="transition duration-200 ease-in hover:text-primary dark:hover:text-blue-700 inline-block">Lychee Version 6 is Live!</a></h3><p class="text-muted dark:text-slate-400 text-lg">We are excited to announce the release of Lychee version 6, a complete rewrite of the frontend for an drastically improved user experience.</p></article><article class="transition mb-6"><div class="dark:bg-slate-700 bg-gray-400 rounded shadow-lg mb-6 md:h-64 relative"><a href="/2024-10-14-v6-beta3"><img alt="Bite-size v6: Beta.2 is Live!" loading="lazy" src="https://images.unsplash.com/photo-1484480974693-6ca0a78fb36b?q=80&w=3544&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="dark:bg-slate-700 bg-gray-400 rounded shadow-lg md:h-full object-cover w-full" crossorigin="anonymous" decoding="async" referrerpolicy="no-referrer" sizes="(max-width: 900px) 400px, 900px" width="400" height="225" srcset="https://images.unsplash.com/photo-1484480974693-6ca0a78fb36b?q=80&w=400&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&h=225 400w, https://images.unsplash.com/photo-1484480974693-6ca0a78fb36b?q=80&w=900&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&h=506 900w" style="object-fit:cover;object-position:center;max-width:100%;max-height:100%"></a></div><h3 class="mb-2 font-bold font-heading dark:text-slate-300 leading-tight sm:text-2xl text-xl"><a href="/2024-10-14-v6-beta3" class="transition duration-200 ease-in hover:text-primary dark:hover:text-blue-700 inline-block">Bite-size v6: Beta.2 is Live!</a></h3><p class="text-muted dark:text-slate-400 text-lg">Bite-size v6 is a series of small post showing the progress made on the development of the future version of Lychee.</p></article></div></div></section></main><footer class="relative not-prose border-gray-200 border-t dark:border-slate-800"><div class="absolute inset-0 pointer-events-none dark:bg-dark" aria-hidden="true"></div><div class="mx-auto sm:px-6 px-4 dark:text-slate-300 max-w-5xl relative"><div class="gap-4 gap-y-8 grid grid-cols-12 md:py-12 py-8 sm:gap-8"><div class="col-span-12 lg:col-span-4"><div class="mb-2"><a href="/" class="inline-block font-bold text-xl">Lychee</a></div><div class="text-muted text-sm flex gap-1"><a href="/license" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">License</a></div></div><div class="col-span-6 lg:col-span-2 md:col-span-3"><div class="mb-2 font-medium dark:text-gray-300">Need help?</div><ul class="text-sm"><li class="mb-2"><a href="/docs" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">Read the Docs</a></li><li class="mb-2"><a href="https://github.com/LycheeOrg/Lychee/discussions" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">Community Forum</a></li><li class="mb-2"><a href="https://discord.gg/JMPvuRQcTf" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">Join our discord</a></li></ul></div><div class="col-span-6 lg:col-span-2 md:col-span-3"><div class="mb-2 font-medium dark:text-gray-300">Support Lychee</div><ul class="text-sm"><li class="mb-2"><a href="https://lycheeorg.dev/get-supporter-edition" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">Get Lychee <span class="text-sky-500">SE</span></a></li><li class="mb-2"><a href="https://github.com/sponsors/LycheeOrg" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">GitHub sponsor</a></li><li class="mb-2"><a href="https://opencollective.com/LycheeOrg" class="text-muted dark:text-gray-400 duration-150 ease-in-out hover:text-gray-700 hover:underline transition">Open Collective</a></li></ul></div></div><div class="md:items-center md:flex md:justify-between md:py-8 py-6"><ul class="flex -ml-2 mb-4 md:mb-0 md:ml-4 md:order-1 rtl:-mr-2 rtl:md:ml-0 rtl:md:mr-4 rtl:ml-0"><li><a href="/rss.xml" class="text-muted dark:text-gray-400 dark:focus:ring-gray-700 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 inline-flex items-center p-2.5 rounded-lg text-sm" aria-label="RSS"><svg class="h-5 w-5" data-icon="tabler:rss" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:rss"><path d="M4 19a1 1 0 1 0 2 0a1 1 0 1 0-2 0M4 4a16 16 0 0 1 16 16M4 11a9 9 0 0 1 9 9" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></symbol><use xlink:href="#ai:tabler:rss"></use></svg></a></li><li><a href="https://github.com/LycheeOrg/Lychee" class="text-muted dark:text-gray-400 dark:focus:ring-gray-700 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 hover:bg-gray-100 inline-flex items-center p-2.5 rounded-lg text-sm" aria-label="Github"><svg class="h-5 w-5" data-icon="tabler:brand-github" height="1em" viewBox="0 0 24 24" width="1em"><symbol id="ai:tabler:brand-github"><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2c2.8-.3 5.5-1.4 5.5-6a4.6 4.6 0 0 0-1.3-3.2a4.2 4.2 0 0 0-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3 0 0 0-6.2 0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2 0 0 0-.1 3.2A4.6 4.6 0 0 0 4 9.5c0 4.6 2.7 5.7 5.5 6c-.6.6-.6 1.2-.5 2V21" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></symbol><use xlink:href="#ai:tabler:brand-github"></use></svg></a></li></ul><div class="dark:text-muted mr-4 text-sm">Maintained by <a href="https://github.com/LycheeOrg" class="text-sky-500">LycheeOrg</a> &mdash; Built with <a href="https://astro.build" class="text-sky-500">Astro</a> & <a href="https://tailwindcss.com" class="text-sky-500">Tailwind CSS</a></div></div></div></footer><script>!function(){const e="system";if(window.basic_script)return;function t(e){"dark"===e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}window.basic_script=!0;const d=function(){e&&e.endsWith(":only")||(localStorage.theme,0)?t(e.replace(":only","")):"dark"===localStorage.theme||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):t("light")};function a(e,t,d){const a="string"==typeof e?document.querySelectorAll(e):e;a&&a.length&&a.forEach((e=>{e.addEventListener(t,(t=>d(t,e)),!1)}))}d();const o=function(){let t=window.scrollY,d=!0;a("#header nav","click",(function(){document.querySelector("[data-aw-toggle-menu]")?.classList.remove("expanded"),document.body.classList.remove("overflow-hidden"),document.getElementById("header")?.classList.remove("h-screen"),document.getElementById("header")?.classList.remove("expanded"),document.getElementById("header")?.classList.remove("bg-page"),document.querySelector("#header nav")?.classList.add("hidden"),document.querySelector("#header > div > div:last-child")?.classList.add("hidden")})),a("[data-aw-toggle-menu]","click",(function(e,t){t.classList.toggle("expanded"),document.body.classList.toggle("overflow-hidden"),document.getElementById("header")?.classList.toggle("h-screen"),document.getElementById("header")?.classList.toggle("expanded"),document.getElementById("header")?.classList.toggle("bg-page"),document.querySelector("#header nav")?.classList.toggle("hidden"),document.querySelector("#header > div > div:last-child")?.classList.toggle("hidden")})),a("[data-aw-toggle-color-scheme]","click",(function(){e.endsWith(":only")||(document.documentElement.classList.toggle("dark"),localStorage.theme=document.documentElement.classList.contains("dark")?"dark":"light")})),a("[data-aw-social-share]","click",(function(e,t){const d=t.getAttribute("data-aw-social-share"),a=encodeURIComponent(t.getAttribute("data-aw-url")),o=encodeURIComponent(t.getAttribute("data-aw-text"));let n;switch(d){case"facebook":n=`https://www.facebook.com/sharer.php?u=${a}`;break;case"twitter":n=`https://twitter.com/intent/tweet?url=${a}&text=${o}`;break;case"linkedin":n=`https://www.linkedin.com/shareArticle?mini=true&url=${a}&title=${o}`;break;case"whatsapp":n=`https://wa.me/?text=${o}%20${a}`;break;case"mail":n=`mailto:?subject=%22${o}%22&body=${o}%20${a}`;break;default:return}const c=document.createElement("a");c.target="_blank",c.href=n,c.click()}));function o(){const e=document.querySelector("#header[data-aw-sticky-header]");e&&(t>60&&!e.classList.contains("scroll")?e.classList.add("scroll"):t<=60&&e.classList.contains("scroll")&&e.classList.remove("scroll"),d=!1)}window.matchMedia("(max-width: 767px)").addEventListener("change",(function(){document.querySelector("[data-aw-toggle-menu]")?.classList.remove("expanded"),document.body.classList.remove("overflow-hidden"),document.getElementById("header")?.classList.remove("h-screen"),document.getElementById("header")?.classList.remove("expanded"),document.getElementById("header")?.classList.remove("bg-page"),document.querySelector("#header nav")?.classList.add("hidden"),document.querySelector("#header > div > div:last-child")?.classList.add("hidden")})),o(),a([document],"scroll",(function(){t=window.scrollY,d||(window.requestAnimationFrame((()=>{o()})),d=!0)}))},n=function(){document.documentElement.classList.add("motion-safe:scroll-smooth");const e=document.querySelector("[data-aw-toggle-menu]");e&&e.classList.remove("expanded"),document.body.classList.remove("overflow-hidden"),document.getElementById("header")?.classList.remove("h-screen"),document.getElementById("header")?.classList.remove("expanded"),document.querySelector("#header nav")?.classList.add("hidden")};window.onload=o,window.onpageshow=n,document.addEventListener("astro:after-swap",(()=>{d(),o(),n()}))}()</script></body></html>